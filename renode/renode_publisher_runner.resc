:name: STM32F4 Discovery
:description: This script runs Contiki on STM32F4 Discovery.

using sysbus
$name?="STM32F4_Discovery"
mach create $name
machine LoadPlatformDescription @platforms/boards/stm32f4_discovery-kit.repl
cpu PerformanceInMips 125
$bin?=@../zephyr.elf
emulation CreateUartPtyTerminal "term0" $ORIGIN/uart

# showAnalyzer sysbus.uart2
connector Connect sysbus.uart2 term0
macro reset
"""
    sysbus LoadELF $bin
"""
runMacro $reset

